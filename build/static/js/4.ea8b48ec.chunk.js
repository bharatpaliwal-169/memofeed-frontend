(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4,5],{301:function(e,t,a){"use strict";a.r(t);a(0);var n=a(23),i=a(114),o=a(72),r=a(112),l=Object(r.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",alignItems:"center",justifyContent:"center"},media:{maxHeight:"20rem",objectFit:"center",width:"100%"}}})),c=a.p+"static/media/LoginProm.67b3c388.svg",s=a(1);t.default=function(e){var t=e.msg,a=l();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(i.a,{className:a.paper,elevation:5,children:[Object(s.jsx)("img",{src:c,alt:"Logo",className:a.media}),Object(s.jsxs)(o.a,{variant:"h5",style:{fontWeight:"bold"},children:["Hey!",Object(s.jsx)(o.a,{component:n.b,to:"/auth",variant:"h4",color:"primary",style:{marginLeft:"0.5rem",marginRight:"0.5rem",fontWeight:"bolder"},children:"Login"}),t||"and explore much more....."]})]})})}},302:function(e,t,a){"use strict";var n=a(27),i=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(0)),r=(0,n(a(50)).default)(o.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.default=r},309:function(e,t,a){"use strict";a.r(t);var n=a(15),i=a(7),o=a(22),r=a(11),l=a(0),c=a.n(l),s=a(21),d=a(125),u=a.n(d),b=a(16),m=a(34),p=a(41),h=a(289),j=a(3),g=a(2),f=a(4),O=a(5),v=a(176),x=a(9),y=l.forwardRef((function(e,t){var a=e.children,n=e.classes,i=e.className,o=e.color,r=void 0===o?"default":o,c=e.component,s=void 0===c?"button":c,d=e.disabled,u=void 0!==d&&d,b=e.disableFocusRipple,m=void 0!==b&&b,p=e.focusVisibleClassName,h=e.size,O=void 0===h?"large":h,y=e.variant,C=void 0===y?"circular":y,w=Object(j.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return l.createElement(v.a,Object(g.a)({className:Object(f.default)(n.root,i,"large"!==O&&n["size".concat(Object(x.a)(O))],u&&n.disabled,"extended"===C&&n.extended,{primary:n.primary,secondary:n.secondary,inherit:n.colorInherit}[r]),component:s,disabled:u,focusRipple:!m,focusVisibleClassName:Object(f.default)(n.focusVisible,p),ref:t},w),l.createElement("span",{className:n.label},a))})),C=Object(O.a)((function(e){return{root:Object(g.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(y),w=a(283),k=a(284),S=a(282),W=a(285),z=a(294),F=a(278),N=a(279),I=a(114),A=a(72),R=a(48),M=Object(R.a)(l.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),E=a(302),T=a.n(E),U=a(112),V=Object(U.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"1rem 0"},buttonSubmit:{marginBottom:10},fab:{position:"fixed",top:"90%",left:"70%",height:"5rem",width:"5rem",alignItems:"center",fontSize:"3rem",backgroundColor:"#09779A"}}})),_=a(301),H=a(1);t.default=function(e){var t,a=e.currentId,d=e.setCurrentId,j=V(),g=Object(p.a)(),f=Object(h.a)(g.breakpoints.down("sm")),O=JSON.parse(localStorage.getItem("profile")),v={title:"",message:"",tags:"",selectedFile:""},x=Object(l.useState)(v),y=Object(r.a)(x,2),R=y[0],E=y[1],U=Object(b.b)(),q=Object(b.c)((function(e){return a?e.posts.posts.find((function(e){return e._id===a})):null})),B=Object(s.g)(),$=function(){var e=Object(o.a)(Object(n.a)().mark((function e(t){var o,r,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(o=L(R))?U(0===a&&o?Object(m.b)(Object(i.a)(Object(i.a)({},R),{},{name:null===O||void 0===O||null===(r=O.result)||void 0===r?void 0:r.name}),B):Object(m.i)(a,Object(i.a)(Object(i.a)({},R),{},{name:null===O||void 0===O||null===(l=O.result)||void 0===l?void 0:l.name}))):alert("Hey! try keeping title bit small and add your story (20-25 words atleast) and a tag."),D();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){d(null),E(v)},L=function(e){return e.title.length<=30&&e.message.length>=50&&0!==e.tags.length&&e.tags.length<=10&&e.message.length<=5e3},P=Object(l.useState)(!1),J=Object(r.a)(P,2),G=J[0],K=J[1],Q=Object(l.useState)(),X=Object(r.a)(Q,2),Y=X[0],Z=X[1],ee=Object(l.useState)(!1),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ie=function(){ne(!0);var e=document.querySelector('input[ type="file" ]').files,t=new FormData;t.append("file",e[0]),t.append("upload_preset","memofeed"),t.append("cloud_name","dudopiduu"),oe(t)},oe=function(){var e=Object(o.a)(Object(n.a)().mark((function e(t){var a,i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("https://api.Cloudinary.com/v1_1/dudopiduu/image/upload",t);case 3:a=e.sent,console.log("response from cloud :"+a.data.secure_url.toString()),i=a.data.secure_url.toString(),Z(i),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error in uploading img : "+e.t0.toString()),ne(!1),alert("Please select an image to upload.");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){console.log("Form.js: setPostData is called."),q&&E(q)}),[q]),Object(l.useEffect)((function(){console.log("Form.js : uploadingImg is called."),Y&&E(Object(i.a)(Object(i.a)({},R),{},{selectedFile:Y})),ne(!1)}),[Y]),null!==O&&void 0!==O&&null!==(t=O.result)&&void 0!==t&&t.name?Object(H.jsx)(c.a.Fragment,{children:f?Object(H.jsxs)(c.a.Fragment,{children:[Object(H.jsx)(C,{onClick:function(){K(!0)},className:j.fab,size:"large",color:"primary",children:Object(H.jsx)(M,{})}),Object(H.jsxs)(w.a,{open:G,onClose:function(){D(),K(!1)},"aria-labelledby":"form-dialog-title",children:[Object(H.jsx)(k.a,{id:"form-dialog-title",style:{color:"#09779A",fontWeight:"bold",textAlign:"center"},children:a?'Editing "'.concat(q.title,'" '):"Add your memory"}),Object(H.jsx)(S.a,{}),Object(H.jsx)(W.a,{className:"".concat(j.root," ").concat(j.form),children:Object(H.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(j.root," ").concat(j.form),onSubmit:$,children:[Object(H.jsx)(z.a,{name:"title",variant:"outlined",label:"Title (keep it short)",fullWidth:!0,required:!0,value:R.title,onChange:function(e){return E(Object(i.a)(Object(i.a)({},R),{},{title:e.target.value}))}}),Object(H.jsx)(z.a,{name:"message",variant:"outlined",label:"your story(atleast 2 lines)",fullWidth:!0,multiline:!0,required:!0,minminRows:4,value:R.message,onChange:function(e){return E(Object(i.a)(Object(i.a)({},R),{},{message:e.target.value}))}}),Object(H.jsx)(z.a,{name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,style:{textTransform:"lowercase"},value:R.tags,onChange:function(e){return E(Object(i.a)(Object(i.a)({},R),{},{tags:e.target.value.split(",")}))}}),Object(H.jsxs)("div",{className:j.fileInput,children:[Object(H.jsx)("input",{type:"file",name:"file",id:"fileUpload1",accept:"image/*",style:{marginBottom:"0.25rem"}}),Object(H.jsx)("label",{htmlFor:"fileUpload1",children:Object(H.jsx)(F.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:ie,startIcon:Object(H.jsx)(T.a,{}),children:ae?Object(H.jsx)(N.a,{size:20,style:{color:"#002884"}}):"Upload Image"})})]}),Object(H.jsx)(F.a,{className:j.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:a?"Update this Memory ":"Add to Feed"}),Object(H.jsx)(F.a,{variant:"contained",color:"secondary",size:"small",onClick:D,fullWidth:!0,children:"Clear"})]})})]})]}):Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(I.a,{className:j.paper,elevation:6,children:Object(H.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(j.root," ").concat(j.form),onSubmit:$,children:[Object(H.jsx)(A.a,{variant:"h4",component:"h4",style:{color:"#09779A",fontWeight:"600"},children:a?'Editing "'.concat(q.title,'" '):"Add your memory"}),Object(H.jsx)(z.a,{name:"title",variant:"outlined",label:"Title (keep it short)",fullWidth:!0,required:!0,value:R.title,onChange:function(e){return E(Object(i.a)(Object(i.a)({},R),{},{title:e.target.value}))}}),Object(H.jsx)(z.a,{name:"message",variant:"outlined",label:"your story(atleast 2 lines)",fullWidth:!0,multiline:!0,required:!0,minRows:4,value:R.message,onChange:function(e){return E(Object(i.a)(Object(i.a)({},R),{},{message:e.target.value}))}}),Object(H.jsx)(z.a,{name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,value:R.tags,onChange:function(e){return E(Object(i.a)(Object(i.a)({},R),{},{tags:e.target.value.split(",")}))}}),Object(H.jsxs)("div",{className:j.fileInput,children:[Object(H.jsx)("input",{type:"file",name:"file",id:"fileUpload2",accept:"image/*",style:{marginBottom:"0.25rem"}}),Object(H.jsx)("label",{htmlFor:"fileUpload2",children:Object(H.jsxs)(F.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:ie,startIcon:Object(H.jsx)(T.a,{}),children:[ae?Object(H.jsx)(N.a,{size:20,style:{color:"#002884"}}):"Upload Image",Y?" : Completed":null]})})]}),Object(H.jsx)(F.a,{className:j.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:a?"Update this Memory ":"Add to Feed"}),Object(H.jsx)(F.a,{variant:"contained",color:"secondary",size:"small",onClick:D,fullWidth:!0,children:"Clear"})]})})})}):Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(_.default,{})})}}}]);
//# sourceMappingURL=4.ea8b48ec.chunk.js.map